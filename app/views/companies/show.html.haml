%p#notice= notice

%header= @company.name

%section
  %h2
    Sector:
    = link_to @company.sector.name, sector_path(@company.sector)

%section
  .label Score:
  .header= @company.score
  .label MC Code:
  .header= number_with_precision(@company.mc_code, :precision => 2)
  .label Price:
  .header= number_with_precision(@company.price, :precision => 2)
  .label EPS:
  .header.last= number_with_precision(@company.eps, :precision => 2)
  .label PE Ratio:
  .header= number_with_precision(@company.pe_ratio, :precision => 2)
  .label PEG Ratio:
  .header= number_with_precision(@company.peg_ratio, :precision => 2)
  .label Debt Ratio:
  .header= number_with_precision(@company.debt_ratio, :precision => 2)
  .label Profit Growth Rate:
  .header.last= number_with_precision(@company.profit_growth_rate, :precision => 2)
  .label EV to EBITDA:
  .header.last= number_with_precision(@company.ev_to_ebitda, :precision => 2)

%section
  %table.tablesorter
    %thead
      %tr
        %th Formula
        %th Illustration
        %th Result
        %th Weight
    %tbody
      -@formulae.each do |formula|
        %tr
          %td= formula.value
          %td= formula.illustrate_for(@company)
          %td= formula.apply_to(@company)
          %td= formula.weight

%section
  = link_to 'Edit', edit_company_path(@company)
  \|
  = link_to 'Back', companies_path

:javascript
  $(document).ready(function() { $("table.tablesorter").tablesorter({ sortList: [[3,1]]}); } );